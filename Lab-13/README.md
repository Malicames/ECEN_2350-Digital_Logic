This single verilog file is both questions 1 and 2.
If you encounter errors, specifically during BitStream generation, look at your constraints file. 
Some constraint files have slightly different variable names, like "mclk" instead of "clk" or "D0_an" instead of "D0_AN".
